// ==================================================================
// 共通部分を使えるように設定
// ==================================================================
@use "base" as b;

// ================================================
// Layout: ヘッダー、フッター、全体的なレイアウト
// ================================================

// ヘッダー
.l-header {
  position: fixed;
  top: 0;
  left: 50%;
  z-index: 1000; // z-indexを明確に
  width: 100%;
  max-width: 1440px;
  padding: 2em 0 1em;
  background-color: rgb(0 0 0 / 50%); // ヘッダー背景色を追加
  backdrop-filter: blur(5px);
  transform: translateX(-50%);

  @include b.flex(space-between, center); // flex mixinを使用

  @include b.mq(tab) {
    grid-template-columns: 1fr auto; // 不要なgridを削除しflexで対応
    gap: 0;
    padding: 0.5em 0;
  }

  @include b.mq(sp) {
    gap: 0;
    padding: 0.5em 0;
  }

  &__logo {
    margin-left: 1em;
  }

  &__nav {
    @include b.mq(mobile) {
      // mobile (spとtab) でのナビゲーションスタイル
      position: absolute;
      top: 0;
      left: 0;
      grid-area: 2 / 1 / 3 / 3; // 不要なgridを削除
      width: 100%;
      height: 0;
      overflow: hidden; // 隠れている間はoverflowをhiddenに
      background-color: var(--color-secondary); // メニュー背景色
      transition: height 0.8s ease;
      transition-delay: 1.5s;
    }

    .is-open & {
      // openクラスが付与された時のスタイル
      height: 100dvh;
      transition-delay: 0s;
    }
  }

  &__nav-list {
    gap: 1.5em;
    margin-right: 1em;
    transition: 0.5s; // トランジションを調整

    @include b.flex(space-between, center); // flex mixinを使用

    @include b.mq(mobile) {
      // mobile (spとtab) でのナビゲーションリストスタイル
      position: absolute; // absoluteで配置
      top: 50%;
      left: 50%;
      flex-direction: column;
      justify-content: space-evenly;
      width: 100%;
      height: 80%;
      margin: 0;
      transform: translate(-50%, -50%);
    }
  }

  &__nav-item {
    display: inline-block;
    padding: 0.5em;
    text-align: center;

    @include b.mq(mobile) {
      // mobile (spとtab) でのナビゲーションアイテムスタイル
      width: 100%;
      transform: translateX(100%);
      transition: transform 0.8s ease;
    }

    &::after {
      display: block;
      width: 100%;
      height: 4px;
      text-align: center;
      content: "";
      background-color: transparent;
      transform: scale(0, 1);
      transition: 0.5s ease;
    }

    &:hover::after {
      background-color: var(--color-primary); // ホバー時の色をメインカラーに
      transform: scale(1, 1);
    }

    // アニメーション遅延
    .is-open & {
      transform: translateX(0);

      @for $i from 1 through 5 {
        &:nth-child(#{$i}) {
          transition-delay: 0.3s + $i * 0.2s;
        }
      }
    }
  }

  &__nav-link {
    color: var(--color-primary); // リンク色をメインカラーに

    @include b.mq(mobile) {
      width: 100%;
    }
  }
}

// フッター
.l-footer {
  padding-top: 1em;
  padding-bottom: 1em;
  margin-top: 3em;
  color: var(--color-primary); // フッターの文字色を追加
  text-align: center;
  background-color: var(--color-accent-secondary);

  &__contact {
    margin-top: 1.5em;
  }
}

// 共通セクション間隔 (baseに移動)
// section:not(.p-mv) {
//     padding: 1.5em 0;
//     margin-top: 3em;
// }
